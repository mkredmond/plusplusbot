{
  "_args": [
    [
      {
        "raw": "phantom@~4.0.1",
        "scope": null,
        "escapedName": "phantom",
        "name": "phantom",
        "rawSpec": "~4.0.1",
        "spec": ">=4.0.1 <4.1.0",
        "type": "range"
      },
      "C:\\Users\\Mike\\Documents\\dev\\github\\plusplusbot\\node_modules\\jshint"
    ]
  ],
  "_from": "phantom@>=4.0.1 <4.1.0",
  "_id": "phantom@4.0.12",
  "_inCache": true,
  "_location": "/phantom",
  "_nodeVersion": "9.3.0",
  "_npmOperationalInternal": {
    "host": "s3://npm-registry-packages",
    "tmp": "tmp/phantom-4.0.12.tgz_1513821739518_0.9619283636566252"
  },
  "_npmUser": {
    "name": "amir20",
    "email": "findamir@gmail.com"
  },
  "_npmVersion": "5.5.1",
  "_phantomChildren": {},
  "_requested": {
    "raw": "phantom@~4.0.1",
    "scope": null,
    "escapedName": "phantom",
    "name": "phantom",
    "rawSpec": "~4.0.1",
    "spec": ">=4.0.1 <4.1.0",
    "type": "range"
  },
  "_requiredBy": [
    "/jshint"
  ],
  "_resolved": "https://registry.npmjs.org/phantom/-/phantom-4.0.12.tgz",
  "_shasum": "78d18cf3f2a76fea4909f6160fcabf2742d7dbf0",
  "_shrinkwrap": null,
  "_spec": "phantom@~4.0.1",
  "_where": "C:\\Users\\Mike\\Documents\\dev\\github\\plusplusbot\\node_modules\\jshint",
  "author": {
    "name": "Amir Raminfar",
    "email": "findamir@gmail.com"
  },
  "bugs": {
    "url": "https://github.com/amir20/phantomjs-node/issues"
  },
  "contributors": [
    {
      "name": "Amir Raminfar",
      "email": "findamir@gmail.com",
      "url": "http://amirraminfar.com/"
    }
  ],
  "dependencies": {
    "phantomjs-prebuilt": "^2.1.16",
    "split": "^1.0.1",
    "winston": "^2.4.0"
  },
  "description": "PhantomJS integration module for NodeJS",
  "devDependencies": {
    "babel-core": "^6.26.0",
    "babel-eslint": "^8.0.3",
    "babel-plugin-transform-es2015-arrow-functions": "^6.22.0",
    "babel-plugin-transform-es2015-template-literals": "^6.22.0",
    "babel-plugin-transform-flow-strip-types": "^6.14.0",
    "babel-polyfill": "^6.26.0",
    "babel-preset-es2015": "^6.18.0",
    "babel-preset-flow": "^6.23.0",
    "del": "^3.0.0",
    "eslint": "^4.13.1",
    "eslint-config-airbnb-base": "^12.1.0",
    "eslint-plugin-flowtype": "^2.40.1",
    "eslint-plugin-import": "^2.8.0",
    "flow-bin": "^0.61.0",
    "gulp": "^3.9.1",
    "gulp-babel": "^7.0.0",
    "gulp-cli": "^1.4.0",
    "gulp-copy": "^1.0.1",
    "gulp-newer": "^1.3.0",
    "gulp-watch": "^4.3.5",
    "jest": "^22.0.3",
    "jest-cli": "^22.0.3",
    "prettier-eslint": "^8.4.0"
  },
  "directories": {},
  "dist": {
    "integrity": "sha512-Tz82XhtPmwCk1FFPmecy7yRGZG2btpzY2KI9fcoPT7zT9det0CcMyfBFPp1S8DqzsnQnm8ZYEfdy528mwVtksA==",
    "shasum": "78d18cf3f2a76fea4909f6160fcabf2742d7dbf0",
    "tarball": "https://registry.npmjs.org/phantom/-/phantom-4.0.12.tgz"
  },
  "engines": {
    "node": ">=8"
  },
  "gitHead": "fd9c026b69ca7934d3aefecb6f3661e550588ccb",
  "homepage": "https://github.com/amir20/phantomjs-node",
  "jest": {
    "roots": [
      "<rootDir>/lib"
    ],
    "collectCoverage": true,
    "coveragePathIgnorePatterns": [
      "node_modules/",
      "jest-modules/"
    ],
    "testEnvironment": "node"
  },
  "keywords": [
    "phantom",
    "phantomjs",
    "driver"
  ],
  "license": "ISC",
  "main": "lib/index.js",
  "maintainers": [
    {
      "name": "amir20",
      "email": "findamir@gmail.com"
    }
  ],
  "name": "phantom",
  "optionalDependencies": {},
  "readme": "phantom - Fast NodeJS API for PhantomJS\n========\n[![NPM](https://nodei.co/npm/phantom.png?downloads=true&downloadRank=true&stars=true)](https://nodei.co/npm/phantom/)\n\n[![NPM Version][npm-image]][npm-url]\n[![NPM Downloads][downloads-image]][downloads-url]\n[![Linux Build][travis-image]][travis-url]\n[![Code Coverage][codecov-image]][codecov-url]\n[![Dependencies][dependencies-image]][dependencies-url]\n[![Node Version][node-image]][node-url]\n\n\n## Super easy to use\n```js\nconst phantom = require('phantom');\n\n(async function() {\n  const instance = await phantom.create();\n  const page = await instance.createPage();\n  await page.on('onResourceRequested', function(requestData) {\n    console.info('Requesting', requestData.url);\n  });\n\n  const status = await page.open('https://stackoverflow.com/');\n  const content = await page.property('content');\n  console.log(content);\n\n  await instance.exit();\n})();\n\n```\n\nUsing Node v7.9.0+ you can run the above example with `node file.js`\n\nSee [examples](examples) folder for more ways to use this module.\n\n## Installation\n\n### Node v6.x and later\nLatest version of phantom does **require Node v6.x and later**. You can install with\n```bash\n$ npm install phantom --save\n```\n\n### Node v5.x\nTo use version 3.x you need to have at least Node v5+. You can install it using\n\n```bash\n$ npm install phantom@3 --save\n```\n\n### Versions _older_ than 5.x, install with\n\n```bash\n$ npm install phantom@2 --save\n```\n\n## How does it work?\n\n  [v1.0.x](//github.com/amir20/phantomjs-node/tree/v1) used to leverage `dnode` to communicate between nodejs and phantomjs. This approach raised a lot of security restrictions and did not work well when using `cluster` or `pm2`.\n\n  v2.0.x has been completely rewritten to use `sysin` and `sysout` pipes to communicate with the phantomjs process. It works out of the box with `cluster` and `pm2`. If you want to see the messages that are sent try adding `DEBUG=true` to your execution, ie. `DEBUG=true node path/to/test.js`. The new code is much cleaner and simpler. PhantomJS is started with a shim which proxies all messages to the `page` or `phantom` object.\n\n## Migrating from 2.x\n\nGoing forward, version phantom@3 will only support Node v5 and above. This adds the extra benefit of less code and faster performance.\n\n## Migrating from 1.0.x\n\n  Version 2.0.x is not backward compatible with previous versions. Most notability, method calls do not take a callback function anymore. Since `node` supports `Promise`, each of the methods return a promise. Instead of writing `page.open(url, function(){})` you would have to write `page.open(url).then(function(){})`.\n\n  The API is much more consistent now. All properties can be read with `page.property(key)` and settings can be read with `page.setting(key)`. See below for more example.\n\n## `phantom` object API\n\n### `phantom#create`\n\nTo create a new instance of `phantom` use `phantom.create()` which returns a `Promise` which should resolve with a `phantom` object.\nIf you want add parameters to the phantomjs process you can do so by doing:\n\n```js\nvar phantom = require('phantom');\nphantom.create(['--ignore-ssl-errors=yes', '--load-images=no']).then(...)\n```\nYou can also explicitly set :\n\n- The phantomjs path to use\n- The path to the shim/index.js to use\n- A logger object\n- A log level if no logger was specified\n\nby passing them in config object:\n```js\nvar phantom = require('phantom');\nphantom.create([], {\n    phantomPath: '/path/to/phantomjs',\n    shimPath: '/path/to/shim/index.js',\n    logger: yourCustomLogger,\n    logLevel: 'debug',\n}).then(...)\n```\n\nThe `logger` parameter should be a `logger` object containing your logging functions. The `logLevel` parameter should be log level like `\"warn\"` or `\"debug\"` (It uses the same log levels as `npm`), and will be ignored if `logger` is set. Have a look at the `logger` property below for more information about these two parameters.\n\n### `phantom#createPage`\n\nTo create a new `page`, you have to call `createPage()`:\n\n```js\nvar sitepage = null;\nvar phInstance = null;\nphantom.create()\n    .then(instance => {\n        phInstance = instance;\n        return instance.createPage();\n    })\n    .then(page => {\n\t// use page\n    })\n    .catch(error => {\n        console.log(error);\n        phInstance.exit();\n    });\n```\n\n### `phantom#exit`\n\nSends an exit call to phantomjs process.\n\nMake sure to call it on the phantom instance to kill the phantomjs process. Otherwise, the process will never exit.\n\n### `phantom#kill`\n\nKills the underlying phantomjs process (by sending `SIGKILL` to it).\n\nIt may be a good idea to register handlers to `SIGTERM` and `SIGINT` signals with `#kill()`.\n\nHowever, be aware that phantomjs process will get detached (and thus won't exit) if node process that spawned it receives `SIGKILL`!\n\n### `phantom#logger`\n\nThe property containing the [winston](https://www.npmjs.com/package/winston) `logger` used by a `phantom` instance. You may change parameters like verbosity or redirect messages to a file with it.\n\nYou can also use your own logger by providing it to the `create` method. The `logger` object can contain four functions : `debug`, `info`, `warn` and `error`. If one of them is empty, its output will be discarded.\n\nHere are two ways of handling it :\n```js\n/* Set the log level to 'error' at creation, and use the default logger  */\nphantom.create([], { logLevel: 'error' }).then(function(ph) {\n    // use ph\n});\n\n/* Set a custom logger object directly in the create call. Note that `info` is not provided here and so its output will be discarded */\nvar log = console.log;\nvar nolog = function() {};\nphantom.create([], { logger: { warn: log, debug: nolog, error: log } }).then(function(ph) {\n    // use ph\n});\n```\n\n## `page` object API\n\n  The `page` object that is returned with `#createPage` is a proxy that sends all methods to `phantom`. Most method calls should be identical to PhantomJS API. You must remember that each method returns a `Promise`.\n\n### `page#setting`\n\n`page.settings` can be accessed via `page.setting(key)` or set via `page.setting(key, value)`. Here is an example to read `javascriptEnabled` property.\n\n```js\npage.setting('javascriptEnabled').then(function(value){\n    expect(value).toEqual(true);\n});\n```\n\n### `page#property`\n\n\n  Page properties can be read using the `#property(key)` method.\n\n  ```js\npage.property('plainText').then(function(content) {\n  console.log(content);\n});\n  ```\n\n  Page properties can be set using the `#property(key, value)` method.\n\n  ```js\npage.property('viewportSize', {width: 800, height: 600}).then(function() {\n});\n  ```\nWhen setting values, using `then()` is optional. But beware that the next method to phantom will block until it is ready to accept a new message.\n\n~~You can set events using `#property()` because they are property members of `page`.~~\n\n```js\npage.property('onResourceRequested', function(requestData, networkRequest) {\n    console.log(requestData.url);\n});\n```\n~~It is important to understand that the function above executes in the PhantomJS process. PhantomJS does not share any memory or variables with node. So using closures in javascript to share any variables outside of the function is not possible. Variables can be passed to `#property` instead. So for example, let's say you wanted to pass `process.env.DEBUG` to `onResourceRequested` method above. You could do this by:~~\n\n**Using `page#property` to set events will be deprecated in next release. Please use `page#on()` instead.**\n\nEven if it is possible to set the events using this way, we recommend you use `#on()` for events (see below).\n\n\nYou can return data to NodeJS by using `#createOutObject()`. This is a special object that let's you write data in PhantomJS and read it in NodeJS. Using the example above, data can be read by doing:\n\n```js\nvar outObj = phInstance.createOutObject();\noutObj.urls = [];\npage.property('onResourceRequested', function(requestData, networkRequest, out) {\n    out.urls.push(requestData.url);\n}, outObj);\n\n// after call to page.open()\noutObj.property('urls').then(function(urls){\n   console.log(urls);\n});\n\n```\n\n### `page#on`\n\nBy using `on(event, [runOnPhantom=false],listener, args*)`, you can listen to the events the page emits.\n\n```js\nvar urls = [];\n\npage.on('onResourceRequested', function (requestData, networkRequest) {\n    urls.push(requestData.url); // this would push the url into the urls array above\n    networkRequest.abort(); // This will fail, because the params are a serialized version of what was provided\n});\n\npage.open('http://google.com');\n```\nAs you see, using on you have access to the closure variables and all the node goodness using this function ans in contrast of setting and event with property, you can set as many events as you want.\n\nIf you want to register a listener to run in phantomjs runtime (and thus, be able to cancel the request lets say), you can make it by passing the optional param `runOnPhantom` as `true`;\n\n```js\nvar urls = [];\n\npage.on('onResourceRequested', true, function (requestData, networkRequest) {\n    urls.push(requestData.url); // now this wont work, because this function would execute in phantom runtime and thus wont have access to the closure.\n    networkRequest.abort(); // This would work, because you are accessing to the non serialized networkRequest.\n});\n\npage.open('http://google.com');\n```\nThe same as in property, you can pass additional params to the function in the same way, and even use the object created by `#createOutObject()`.\n\nYou cannot use `#property()` and `#on()` at the same time, because it would conflict. Property just sets the function in phantomjs, while `#on()` manages the event in a different way.\n\n### `page#off`\n\n`#off(event)` is usefull to remove all the event listeners set by `#on()` for ans specific event.\n\n### `page#evaluate`\n\nUsing `#evaluate()` is similar to passing a function above. For example, to return HTML of an element you can do:\n\n```js\npage.evaluate(function() {\n    return document.getElementById('foo').innerHTML;\n}).then(function(html){\n    console.log(html);\n});\n```\n\n### `page#evaluateAsync`\n\nSame as `#evaluate()`, but function will be executed asynchronously and there is no return value. You can specify delay of execution.\n\n```js\npage.evaluateAsync(function(apiUrl) {\n    $.ajax({url: apiUrl, success: function() {}});\n}, 0, \"http://mytestapi.com\")\n```\n\n### `page#evaluateJavaScript`\n\nEvaluate a function contained in a string. It is similar to `#evaluate()`, but the function can't take any arguments. This example does the same thing as the example of `#evaluate()`:\n\n```js\npage.evaluateJavaScript('function() { return document.getElementById(\\'foo\\').innerHTML; }').then(function(html){\n    console.log(html);\n});\n```\n\n### `page#switchToFrame`\n\nSwitch to the frame specified by a frame name or a frame position:\n\n```js\npage.switchToFrame(framePositionOrName).then(function() {\n    // now the context of `page` will be the iframe if frame name or position exists\n});\n```\n\n### `page#switchToMainFrame`\n\nSwitch to the main frame of the page:\n\n```js\npage.switchToMainFrame().then(function() {\n    // now the context of `page` will the main frame\n});\n```\n\n### `page#uploadFile`\n\nA file can be inserted into file input fields using the `#uploadFile(selector, file)` method.\n\n```js\npage.uploadFile('#selector', '/path/to/file').then(function() {\n\n});\n```\n\n## Advanced\nMethods below are for advanced users. Most people won't need these methods.\n\n### `page#defineMethod`\n\nA method can be defined using the `#defineMethod(name, definition)` method.\n\n```js\npage.defineMethod('getZoomFactor', function() {\n\treturn this.zoomFactor;\n});\n```\n\n### `page#invokeAsyncMethod`\n\nAn asynchronous method can be invoked using the `#invokeAsyncMethod(method, arg1, arg2, arg3...)` method.\n\n```js\npage.invokeAsyncMethod('open', 'http://phantomjs.org/').then(function(status) {\n\tconsole.log(status);\n});\n```\n\n### `page#invokeMethod`\n\nA method can be invoked using the `#invokeMethod(method, arg1, arg2, arg3...)` method.\n\n```js\npage.invokeMethod('evaluate', function() {\n\treturn document.title;\n}).then(function(title) {\n\tconsole.log(title);\n});\n```\n\n```js\npage.invokeMethod('evaluate', function(selector) {\n\treturn document.querySelector(selector) !== null;\n}, '#element').then(function(exists) {\n\tconsole.log(exists);\n});\n```\n\n## Pooling\n\nCreating new phantom instances with `phantom.create()` can be slow. If\nyou are frequently creating new instances and destroying them, as a\nresult of HTTP requests for example, it might be worth creating a pool\nof instances that are re-used.\n\nSee the [phantom-pool](https://github.com/blockai/phantom-pool) module\nfor more info.\n\n## Tests\n\n  To run the test suite, first install the dependencies, then run `npm test`:\n\n```bash\n$ npm install\n$ npm test\n```\n\n## Contributing\n\n  This package is under development. Pull requests are welcomed. Please make sure tests are added for new functionalities and that your build does pass in TravisCI.\n\n## People\n\n  The current lead maintainer is [Amir Raminfar](https://github.com/amir20)\n\n  [List of all contributors](https://github.com/amir20/phantomjs-node/graphs/contributors)\n\n## License\n\n  [ISC](LICENSE.md)\n\n[npm-image]: https://img.shields.io/npm/v/phantom.svg?style=flat-square\n[npm-url]: https://npmjs.org/package/phantom\n[downloads-image]: https://img.shields.io/npm/dm/phantom.svg?style=flat-square\n[downloads-url]: https://npmjs.org/package/phantom\n[travis-image]: https://img.shields.io/travis/amir20/phantomjs-node.svg?style=flat-square\n[travis-url]: https://travis-ci.org/amir20/phantomjs-node\n[dependencies-image]: https://dependencyci.com/github/amir20/phantomjs-node/badge?style=flat-square\n[dependencies-url]: https://dependencyci.com/github/amir20/phantomjs-node\n[node-image]: https://img.shields.io/node/v/phantom.svg?style=flat-square\n[node-url]: https://nodejs.org/en/download/\n[codecov-image]: https://codecov.io/gh/amir20/phantomjs-node/branch/master/graph/badge.svg?style=flat-square\n[codecov-url]: https://codecov.io/gh/amir20/phantomjs-node\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git://github.com/amir20/phantomjs-node.git"
  },
  "scripts": {
    "lint": "eslint . && flow check",
    "prepublishOnly": "gulp clean && gulp build",
    "pretest": "gulp build:test",
    "test": "npm run lint && jest"
  },
  "version": "4.0.12"
}
